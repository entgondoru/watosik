using System;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Collections.Generic;

namespace Watosik.Application.Scoring
{
    public static class PushUpsScoring
    {
        public static float GetPoints(string category, string gender, int reps)
        {
            var scoringTable = gender == "Male" ? Male : Female;

            if (!scoringTable.ContainsKey(category))
            {
                throw new ArgumentException($"Category '{category}' does not exist.", nameof(category));
            }

            var categoryTable = scoringTable[category];
            var closestElement = categoryTable
                .OrderBy(s => Math.Abs(s.Reps - reps))
                .FirstOrDefault();

            return closestElement.Points;
        }

        // Scoring table for men based on age categories
        public static readonly Dictionary<string, List<(int Reps, float Points)>> Male = new()
        {
            // Age category: "do 20"
            { "do 20", new List<(int Reps, float Points)>
                {
                    (74, 21), (73, 21), (72, 20.7f), (71, 20.4f), (70, 20.1f),
                    (69, 19.8f), (68, 19.5f), (67, 19.2f), (66, 18.9f), (65, 18.6f),
                    (64, 18.3f), (63, 18f), (62, 17.7f), (61, 17.4f), (60, 17.1f),
                    (59, 16.8f), (58, 16.5f), (57, 16.2f), (56, 15.9f), (55, 15.6f),
                    (54, 15.3f), (53, 15f), (52, 14.7f), (51, 14.4f), (50, 14.1f),
                    (49, 13.8f), (48, 13.5f), (47, 13.2f), (46, 12.9f), (45, 12.6f),
                    (44, 12.3f), (43, 12f), (42, 11.7f), (41, 11.4f), (40, 11.1f),
                    (39, 10.8f), (38, 10.5f), (37, 10.2f), (36, 9.9f), (35, 9.6f),
                    (34, 9.3f), (33, 9f), (32, 8.7f), (31, 8.4f), (30, 8.1f),
                    (29, 7.8f), (28, 7.5f), (27, 7.2f), (26, 6.9f), (25, 6.6f),
                    (24, 6.3f), (23, 6f), (22, 5.7f), (21, 5.4f), (20, 5.1f),
                    (19, 4.8f), (18, 4.5f), (17, 4.2f), (16, 3.9f), (15, 3.6f),
                    (14, 3.3f), (13, 3f), (12, 2.7f), (11, 2.4f), (10, 2.1f),
                    (9, 1.8f), (8, 1.5f), (7, 1.2f), (6, 0.9f), (5, 0.6f),
                    (4, 0.3f), (3, 0f)
                }
            },

            // Age category: "21-25"
            { "21-25", new List<(int Reps, float Points)>
                {
                    (74, 21), (73, 20.7f), (72, 20.4f), (71, 20.1f), (70, 19.8f),
                    (69, 19.5f), (68, 19.2f), (67, 18.9f), (66, 18.6f), (65, 18.3f),
                    (64, 18f), (63, 17.7f), (62, 17.4f), (61, 17.1f), (60, 16.8f),
                    (59, 16.5f), (58, 16.2f), (57, 15.9f), (56, 15.6f), (55, 15.3f),
                    (54, 15f), (53, 14.7f), (52, 14.4f), (51, 14.1f), (50, 13.8f),
                    (49, 13.5f), (48, 13.2f), (47, 12.9f), (46, 12.6f), (45, 12.3f),
                    (44, 12f), (43, 11.7f), (42, 11.4f), (41, 11.1f), (40, 10.8f),
                    (39, 10.5f), (38, 10.2f), (37, 9.9f), (36, 9.6f), (35, 9.3f),
                    (34, 9f), (33, 8.7f), (32, 8.4f), (31, 8.1f), (30, 7.8f),
                    (29, 7.5f), (28, 7.2f), (27, 6.9f), (26, 6.6f), (25, 6.3f),
                    (24, 6f), (23, 5.7f), (22, 5.4f), (21, 5.1f), (20, 4.8f),
                    (19, 4.5f), (18, 4.2f), (17, 3.9f), (16, 3.6f), (15, 3.3f),
                    (14, 3f), (13, 2.7f), (12, 2.4f), (11, 2.1f), (10, 1.8f),
                    (9, 1.5f), (8, 1.2f), (7, 0.9f), (6, 0.6f), (5, 0.3f),
                    (4, 0f)
                }
            },

            // Age category: "26-30"
            { "26-30", new List<(int Reps, float Points)>
                {
                    (74, 21), (73, 20.7f), (72, 20.4f), (71, 20.1f), (70, 19.8f),
                    (69, 19.5f), (68, 19.2f), (67, 18.9f), (66, 18.6f), (65, 18.3f),
                    (64, 18f), (63, 17.7f), (62, 17.4f), (61, 17.1f), (60, 16.8f),
                    (59, 16.5f), (58, 16.2f), (57, 15.9f), (56, 15.6f), (55, 15.3f),
                    (54, 15f), (53, 14.7f), (52, 14.4f), (51, 14.1f), (50, 13.8f),
                    (49, 13.5f), (48, 13.2f), (47, 12.9f), (46, 12.6f), (45, 12.3f),
                    (44, 12f), (43, 11.7f), (42, 11.4f), (41, 11.1f), (40, 10.8f),
                    (39, 10.5f), (38, 10.2f), (37, 9.9f), (36, 9.6f), (35, 9.3f),
                    (34, 9f), (33, 8.7f), (32, 8.4f), (31, 8.1f), (30, 7.8f),
                    (29, 7.5f), (28, 7.2f), (27, 6.9f), (26, 6.6f), (25, 6.3f),
                    (24, 6f), (23, 5.7f), (22, 5.4f), (21, 5.1f), (20, 4.8f),
                    (19, 4.5f), (18, 4.2f), (17, 3.9f), (16, 3.6f), (15, 3.3f),
                    (14, 3f), (13, 2.7f), (12, 2.4f), (11, 2.1f), (10, 1.8f),
                    (9, 1.5f), (8, 1.2f), (7, 0.9f), (6, 0.6f), (5, 0.3f),
                    (4, 0f)
                }
            }
        };
        public static readonly Dictionary<string, List<(int Reps, float Points)>> Female = new()
        {
            // Age category: "do 20"
            { "do 20", new List<(int Reps, float Points)>
                {
                    (39, 21), (38, 20.7f), (37, 20.4f), (36, 20.1f),
                    (35, 21), (34, 20.7f), (33, 20.4f), (32, 20.1f),
                    (31, 19.8f), (30, 19.5f), (29, 19.2f), (28, 18.9f),
                    (27, 18.6f), (26, 18.3f), (25, 18), (24, 17.7f),
                    (23, 17.4f), (22, 17.1f), (21, 16.8f), (20, 16.5f),
                    (19, 16.2f), (18, 15.9f), (17, 15.6f), (16, 15.3f),
                    (15, 15), (14, 14.7f), (13, 14.4f), (12, 14.1f),
                    (11, 13.8f), (10, 13.5f), (9, 13.2f), (8, 12.9f)
                }
            },

            // Age category: "21-25"
            { "21-25", new List<(int Reps, float Points)>
                {
                    (39, 21), (38, 20.7f), (37, 20.4f), (36, 20.1f),
                    (35, 19.8f), (34, 19.5f), (33, 19.2f), (32, 18.9f),
                    (31, 18.6f), (30, 18.3f), (29, 18), (28, 17.7f),
                    (27, 17.4f), (26, 17.1f), (25, 16.8f), (24, 16.5f),
                    (23, 16.2f), (22, 15.9f), (21, 15.6f), (20, 15.3f),
                    (19, 15), (18, 14.7f), (17, 14.4f), (16, 14.1f),
                    (15, 13.8f), (14, 13.5f), (13, 13.2f), (12, 12.9f)
                }
            },

            // Age category: "26-30"
            { "26-30", new List<(int Reps, float Points)>
                {
                    (39, 21), (38, 20.7f), (37, 20.4f), (36, 20.1f),
                    (35, 19.8f), (34, 19.5f), (33, 19.2f), (32, 18.9f),
                    (31, 18.6f), (30, 18.3f), (29, 18), (28, 17.7f),
                    (27, 17.4f), (26, 17.1f), (25, 16.8f), (24, 16.5f),
                    (23, 16.2f), (22, 15.9f), (21, 15.6f), (20, 15.3f),
                    (19, 15), (18, 14.7f), (17, 14.4f), (16, 14.1f),
                    (15, 13.8f), (14, 13.5f), (13, 13.2f), (12, 12.9f)
                }
            }
        };
    }
}
